import copy
import random
from ctypes import Union

scene_1_msg = """–ñ—É—Ä—á–∞–Ω–∏–µ –≤–æ–¥—ã, —Å—Ç—É–∫ –¥—è—Ç–ª–∞... –£—Ç–∏—Ö–∞—é—â–∞—è –±–æ–ª—å –≤ –≥–æ–ª–æ–≤–µ.. –í—ã –æ—Ç–∫—Ä—ã–ª–∏ –≥–ª–∞–∑–∞.
–í–∞—à–∏ –º—ã—Å–ª–∏: –≥–¥–µ —è? –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ? –ü–æ—Å–ª–µ–¥–Ω–µ–µ, —á—Ç–æ —è –ø–æ–º–Ω—é - —á–µ–π-—Ç–æ –∫—Ä–∏–∫.. –í–æ–∫—Ä—É–≥ –≤—Å—ë —Å–º—É—Ç–Ω–æ –∑–µ–ª–µ–Ω–æ–µ... –ù–∞–¥–æ –≤–∑—è—Ç—å –æ—á–∫–∏, –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∏–∂—É..."""
scene_1_photo = "https://i.ibb.co/02XvGd7/kandinsky-download-1699417600695.png"
scene_1_run_msg = """–í—ã –±–µ–∂–∞–ª–∏, –±–µ–∂–∞–ª–∏, –≤–¥—Ä—É–≥ –ø–æ—Ç–µ—Ä—è–ª–∏ –∑–µ–º–ª—é –∏–∑ –ø–æ–¥ –Ω–æ–≥ –∏ —Å—Ç–∞–ª–∏ —Å–ª—ã—à–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –≥–æ–ª–æ—Å–∞. –û–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –≤–æ–¥–∞ –ø–æ —Ä—É—á—å—É –≤–µ–ª–∞ –∫ —Ä–µ–∑–∫–æ–º—É –æ–±—Ä—ã–≤—É, –æ–±—Ä–∞–∑—É—è –≤–æ–¥–æ–ø–∞–¥, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã —Å–∏–≥–∞–Ω—É–ª–∏, —Ç–∞–∫ –∫–∞–∫ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∏–¥–µ–ª–∏. –ë—ã–≤–∞–µ—Ç! –ß—Ç–æ –∂, –≤ –¥—Ä—É–≥–æ–π –∂–∏–∑–Ω–∏ –ø–æ–≤–µ–∑—ë—Ç!"""
scene_1_death_photo = "https://i.ibb.co/RvQdHhD/kandinsky-download-1699448860430.png"

scene_2_msg = """–í—ã –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –≤—Å—Ç–∞–ª–∏ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –æ—á–∫–∏ –ø–æ–¥ —è–≥–æ–¥–∏—Ü–µ–π. –ö —Å—á–∞—Å—Ç—å—é, –æ–¥–Ω–æ –∏–∑ —Å—Ç–µ–∫–ª—ã—à–∫–æ–≤ –≤—ã–∂–∏–ª–æ!

–í—ã –æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ—Å—å. –í–æ–∫—Ä—É–≥ –∑–µ–ª–µ–Ω—ã–π –ª–µ—Å. –í—ã –ø–æ–¥ –¥–µ—Ä–µ–≤–æ–º –Ω–∞ –ª—É–∂–∞–π–∫–µ.
"–¢–∞–∫ —Ö–æ—Ä–æ—à–æ... –≠—Ö, –∂–∞–ª—å —á—Ç–æ —è –±–µ–∑ –ø–∏–∫–Ω–∏–∫–∞!" """

scene_2_death_river = "–í—ã —à–ª–∏ –≤–≤–µ—Ä—Ö –ø–æ —Ä—É—á—å—é. –ß–µ–º –¥–∞–ª—å—à–µ –≤—ã —É—Ö–æ–¥–∏–ª–∏ —Ç–µ–º –±–æ–ª–µ–µ –º–µ–ª–∫–∏–º –æ–Ω —Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è. –í—ã —à–ª–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –æ–Ω —Å–æ–≤—Å–µ–º –Ω–µ –ø—Ä–æ–ø–∞–ª –∏–∑ –≤–∏–¥—É. –ö–æ–≥–¥–∞ –æ–Ω –ø—Ä–æ–ø–∞–ª –≤—ã –ø–æ–Ω—è–ª–∏ —á—Ç–æ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Ç–µ—Ä—è–ª–∏—Å—å. –í–∞—Å –æ—Ö–≤–∞—Ç–∏–ª–æ —É–Ω—ã–Ω–∏–µ, –≤—ã —Å–µ–ª–∏ —É –±–ª–∏–∂–∞–π—à–µ–≥–æ –¥–µ—Ä–µ–≤–∞ –∏ –æ—Å—Ç–∞–ª–∏—Å—å —É–º–∏—Ä–∞—Ç—å –æ—Å–æ–∑–Ω–∞–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –Ω–∏–∫—á–µ–º–Ω–æ—Å—Ç—å..."

scene_2_skeleton_photo = """https://i.ibb.co/HNQJC0g/photo1699507411.jpg"""

scene_2_photo = "https://i.ibb.co/WDz5082/606013e4-982b-406e-a761-28d4edcfed70.jpg"

scene_2_mox = """–í—ã –≤—ã–±—Ä–∞–ª–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —à–ª–∏ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤. –í—ã —É—Å—Ç–∞–ª–∏, –ø—Ä–æ–≥–æ–ª–æ–¥–∞–ª–∏—Å—å –∏ –ø—Ä–æ–º–æ–∫–ª–∏, –Ω–æ –ø–µ—Ä–µ–¥ –≤–∞–º–∏ –≤—Å–µ –µ—â–µ —Ç–∞–∫–æ–π –∂–µ –ª–µ—Å. 

"–•–º–º... –∞ —Ç–æ—á–Ω–æ –ª–∏ —è —à–µ–ª –≤—Å–µ–≥–¥–∞ –ø—Ä—è–º–æ? –í—Å—ë —Ç–∞–∫–æ–µ –∑–Ω–∞–∫–æ–º–æ–µ..
–û, —ç—Ç–æ –∂–µ —Ç–æ—Ç —Ä—É—á–µ–π! –ü–æ–≤–µ–∑–ª–æ, —á—Ç–æ –Ω–∞—à–µ–ª –µ–≥–æ —Å–Ω–æ–≤–∞. –ö—Å—Ç–∞—Ç–∏, –∞ –º–æ–∂–µ—Ç –µ—â—ë —Ä–∞–∑ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å, –∞–≤–æ—Å—å –Ω–∞–π–¥—É –≤—ã—Ö–æ–¥?" """

scene_2_mox_death = "–í—ã –≤—ã–±—Ä–∞–ª–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —à–ª–∏ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤. –í—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Ç–µ—Ä—è–ª–∏—Å—å. –í–∞—à–µ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ –¥–æ—Å—Ç–∏–≥–ª–æ –º–∏–Ω–∏–º—É–º–∞, –≤—ã –ø—Ä–∏–ª–µ–≥–ª–∏ –∫ –±–ª–∏–∂–∞–π—à–µ–º—É –¥–µ—Ä–µ–≤—É –∏..."

scene_2_panic = """–í–∞—Å –æ—Ö–≤–∞—Ç–∏–ª–∞ –ø–∞–Ω–∏–∫–∞ –∏ –≤—ã –ø–æ–¥–¥–∞–ª–∏—Å—å –µ–π. –í—ã —Å–æ—Ä–≤–∞–ª–∏—Å—å —Å –º–µ—Å—Ç–∞ –∏ –ø–æ–±–µ–∂–∞–ª–∏ –≤ —Å–ª—É—á–∞–π–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏. –í—ã –Ω–µ –æ–±—Ä–∞—â–∞–ª–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ –∫–∞–∫ –≤–∞—Å –±–æ–ª—å–Ω–æ —Ä–∞–Ω—è—Ç –≤–µ—Ç–∫–∏ –∫—É—Å—Ç–æ–≤."""

scene_2_panic_alive = """\n–í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ –≤–∞–º –µ–ª–µ –µ–ª–µ —É–¥–∞–ª–æ—Å—å –≤—ã–π—Ç–∏ –∫ —Ä—É—á—å—é. –ò —á—Ç–æ —ç—Ç–æ –±—ã–ª–∞ –∑–∞ —Ç–≤–∞—Ä—å —Ç–∞–∫–∞—è, —á—Ç–æ –≤–∞—Å —Ç–∞–∫ –∏—Å–ø—É–≥–∞–ª–∞?"""

scene_2_panic_death = """–í—ã —Ç–∞–∫ –±–µ–∂–∞–ª–∏, —á—Ç–æ –±—ã–ª–∏ –∏—Å—Ç–æ—â–µ–Ω—ã –¥–æ —Å–º–µ—Ä—Ç–∏..."""

scene_3_msg = """–í—ã —à–ª–∏ –¥–∞–ª—å—à–µ –≤–Ω–∏–∑ –ø–æ —Ä—É—á—å—é, —Å –±–æ–ª—å—à–∏–º —Ç—Ä—É–¥–æ–º –ø—Ä–æ–±–∏—Ä–∞—è—Å—å —Å–∫–≤–æ–∑—å –∑–∞—Ä–æ—Å–ª–∏ –ª–µ—Å–∞, –∏, –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, –≤—ã –≤—ã—à–ª–∏ –∫ –æ–∑–µ—Ä—É —É –ø–æ–¥–Ω–æ–∂—å—é –±–æ–ª—å—à–æ–π –≥–æ—Ä—ã."""
scene_3_photo = "https://i.ibb.co/VwPwTM9/kandinsky-download-1699416742112.png"

scene_3_wolf_death_photo = "https://pic.rutubelist.ru/video/c3/4c/c34cd23999d16b63781fe367923c3f53.jpg"
scene_3_water_death_photo = "https://i.ibb.co/m86K8PS/3waterdeath.png"

scene_4_izba_photo = "https://i.ibb.co/F5ydhVg/1703083153000ern39j4t.png"

emp = ("", {},)


def str2(any_data) -> str:
    punkt = """{}"'"""
    text = str(any_data)
    for symbol in punkt:
        text = text.replace(symbol, "")
    return text


def chance(chance_max=50):
    chh = random.randint(0, 100)
    return chh <= chance_max


def build_death(death_lvl_msg="", photo_url=scene_2_skeleton_photo):
    return (death_lvl_msg, {
        "variants": {"–ò—Ç–æ–≥–∏": "–ü–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏", "–û—Ç–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ": "–í–µ—Ä–Ω—É—Ç—å –≤—Ä–µ–º—è –Ω–∞–∑–∞–¥", "–í—ã—Ö–æ–¥": "–í—ã–π—Ç–∏ –≤ –º–µ–Ω—é", },
        "photos": ph(photo_url)},)


def ph(photo_url):
    return [{"url": photo_url}]


class Forest_game:
    name = "–ú–µ—Å—Ç–æ, –≥–¥–µ –º–∏–ª—ã–µ –∑–≤–µ—Ä—É—à–∫–∏ —Å–±–µ–≥–∞—é—Ç —Å —É–º–∞"
    description = """–ñ—É—Ä—á–∞–Ω–∏–µ –≤–æ–¥—ã, —Å—Ç—É–∫ –¥—è—Ç–ª–∞... –ì–¥–µ —è? –í–æ–∫—Ä—É–≥ –Ω–∏ –¥—É—à–∏! –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?
–ß—Ç–æ–±—ã –≤—ã–∂–∏—Ç—å, –≤–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–º –∏ –≤—ã–±—Ä–∞—Ç—å—Å—è, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

–†–µ–π—Ç–∏–Ω–≥: 16+
–°–ª–æ–∂–Ω–æ—Å—Ç—å: 99999/10
–ú–µ—Ö–∞–Ω–∏–∫–∏: –≤—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, —Ç–∞–π–º–µ—Ä—ã
–ù–∞–≤—ã–∫–∏: —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏, –≤—ã–∂–∏–≤–∞–Ω–∏–µ –≤ –ª–µ—Å—É, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è"""
    description_photo = "https://catherineasquithgallery.com/uploads/posts/2023-02/1676616325_catherineasquithgallery-com-p-temno-zelenii-fon-anime-132.jpg"
    started = False
    last_variants = None

    def reset_vars(self):
        self.iter = 0
        self.started = True
        self.level = "scene_1"
        self.active_timeout = ""
        self.data = {}
        self.data_backup = {}

    def __init__(self):
        self.data = None
        self.data_backup = None
        self.level = None
        self.started = None
        self.iter = 0
        self.active_timeout = ""

    def update(self, t, env=None) -> (str, dict):
        return (*self.update_cb(t, env),)

    def update_cb(self, t, env=None, start_text="") -> (str, dict):
        self.iter += 1
        print("ALL GAME DATA DEBUG", self.data, "self.data\n", self.level, "self.level\n", self.iter, "self.iter\n",
              self.started, "self.started\n", self.active_timeout, "self.active_timeout\n")

        def gen_msg(textt: str) -> str:
            return start_text + "\n\n" + textt

        d = self.data

        def save_data() -> None:
            self.data_backup = copy.deepcopy(self.data)

        def apply_time(tti=0, mult=1) -> bool:

            d["–í—Ä–µ–º—è"] += tti
            tti *= mult
            d["–ñ–∞–∂–¥–∞"] += tti
            d["–ì–æ–ª–æ–¥"] += tti / 2
            # d["–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"] = 36.6
            d["–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å"] -= tti / 2
            if d["–ñ–∞–∂–¥–∞"] > 8:
                d["–ó–¥–æ—Ä–æ–≤—å–µ"] -= 1 * tti
            if d["–ì–æ–ª–æ–¥"] > 8:
                d["–ó–¥–æ—Ä–æ–≤—å–µ"] -= 1 * tti
            if d["–ó–¥–æ—Ä–æ–≤—å–µ"] > 0:
                return True
            else:
                return False

        def str_data() -> str:
            result_str = "–°–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ –∏ –∫–∞—Ä–º–∞–Ω—ã:"
            printable_params = ("–ó–¥–æ—Ä–æ–≤—å–µ", "–ñ–∞–∂–¥–∞", "–ì–æ–ª–æ–¥",)
            printable_items = ("–®—Ç–∞–Ω—ã", "–ë–æ—Ç–∏–Ω–∫–∏", "–í–µ—Ä—Ö", "–°–ø–∏—á–∫–∏",
                               "–ë–µ—Ä–µ—Å—Ç–∞", "–ë—É—Ç—ã–ª–∫–∞", "–§–æ–Ω–∞—Ä–∏–∫", "–ù–æ–∂", "–í–µ—Ä–µ–≤–∫–∞", "–†—É–∂—å–µ",)
            for key in d:
                if key in printable_params:
                    result_str += f"""\n{key}: {str(d[key])}"""  # –ó–¥–æ—Ä–æ–≤—å–µ: 10
                elif key in printable_items:
                    result_str += f"""\n{key} ({str2(d[key])})"""  # –û–¥–µ–∂–¥–∞: —à—Ç–∞–Ω—ã, —Ö—É–¥–∏ # –°–ø–∏—á–∫–∏ {—á–∏—Å–ª–æ:5, –ª—è–ª—è }
                elif key == "–ß–∞—Å—ã":
                    dtime = d["–í—Ä–µ–º—è"]
                    time = dtime - (dtime // 24) * 24
                    result_str += f"""\n–í—Ä–µ–º—è: {str(time)} —á–∞—Å–æ–≤ (–≤—Å–µ–≥–æ {str(dtime)})"""
                # print(d[key])
            return result_str

        if "–ò—Ç–æ–≥–∏" == t:
            return f"–ò—Ç–æ–≥–∏:\n–°—á—ë—Ç: {str(self.iter)}", {"variants": {"–í—ã—Ö–æ–¥": "–í—ã–π—Ç–∏ –≤ –º–µ–Ω—é"}}
        # –µ—Å–ª–∏ —ç—Ç–æ —Ç–∞–π–º–∞—É—Ç, –æ–Ω —Ä–µ–∞–ª—å–Ω–æ —Ç–∞–π–º–∞—É—Ç –∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ–∂–∏–¥–∞–µ–º—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º, —Ç–æ –ù–ò–ß–ï–ì–û –Ω–µ –¥–µ–ª–∞–µ–º
        timeout_valid = (("timeout" in t) and env and env.get("timeout", False))
        timeout_active = (timeout_valid and t == self.active_timeout)
        print("TIMEOUT DEBUG", """"\ntimeout in t""", "timeout" in t,
              "\nenv (–Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –±—ã–ª timeout:true)", env,
              "\ntimeout_active", timeout_active)

        if timeout_valid and t != self.active_timeout:
            return emp

        if timeout_active:
            self.active_timeout = ""
        # hint: check for timeout: if timeout_active and t=="timeout_3": <scenario>

        if self.level == "scene_1":
            if t == "1":
                self.level = "scene_2"
                return (*self.update_cb("start"),)
            elif t == "2":
                # SAVE
                return build_death(scene_1_run_msg, scene_1_death_photo)
            elif t == "3":
                return (*self.update_cb("idle",
                                        start_text="–≠—Ö–æ... –ë–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ. –î–∞–∂–µ –µ—Å–ª–∏ –±—ã –ø—Ä–æ–∏–∑–æ—à–ª–æ, –≤—ã –±—ã –Ω–µ —É–≤–∏–¥–µ–ª–∏."),)
            else:  # start
                if t == "start":
                    self.last_variants = {"1": "–û—Å—Ç–æ—Ä–æ–∂–Ω–æ –≤—Å—Ç–∞—Ç—å –∏ –æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è",
                                          "2": "–í—Å—Ç–∞—Ç—å –∏ –Ω–∞—á–∞—Ç—å –±–µ–∂–∞—Ç—å –≤ —Å—Ç–æ—Ä–æ–Ω—É –∑–≤—É–∫–∞ –≤–æ–¥—ã",
                                          "3": "–ü—Ä–æ–∫—Ä–∏—á–∞—Ç—å –ê–£–£–£"}
                    return gen_msg(scene_1_msg), {"variants": self.last_variants, "photos": ph(scene_1_photo)}
                else:
                    return gen_msg("–í—ã –æ—Ç–∫—Ä—ã–ª–∏ –≥–ª–∞–∑–∞. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ? –í–æ–∫—Ä—É–≥ –≤—Å—ë —Å–º—É—Ç–Ω–æ –∑–µ–ª–µ–Ω–æ–µ..."), {
                        "variants": self.last_variants}

        elif self.level == "scene_2":
            if not d.get("—Å—Ü2_—Å–∫—Ä–∏–º–µ—Ä", False) and t != "start":
                if chance(30):
                    d["—Å—Ü2_—Å–∫—Ä–∏–º–µ—Ä"] = True
                    self.active_timeout = "timeout_1"
                    return "*–ö–£–°–¢–´* *–õ–ò–°–¢–¨–Ø*\n–ê–ê–ê–ê –ß–¢–û –≠–¢–û –ó–ê –ó–í–£–ö???\n" * random.choice([2, 5])+"\n‚è≥‚ùó", {
                        "variants": {"–ø–∞–Ω–∏–∫–∞_1": "–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê", "–ø–∞–Ω–∏–∫–∞_2": "–ë–ï–ñ–ê–¢–¨", "–ø–∞–Ω–∏–∫–∞_3": " –ë–ï–ñ–ê–¢–¨"},
                        "timer": {"cmd": "timeout_1", "time": 3}}
            if "–ø–∞–Ω–∏–∫–∞" in t:
                save_data()
                alive = apply_time(4)
                if alive:
                    return (*self.update_cb("idle",
                                            start_text=scene_2_panic + scene_2_panic_alive),)
                else:
                    self.data = self.data_backup
                    return build_death(scene_2_panic + scene_2_panic_death, scene_2_skeleton_photo)

            elif t == "timeout_1":  # and timeout_active
                return "–ß–¢–û –≠–¢–û –ë–´–õ –ó–ê –ó–í–£–ö –°–ï–ö–£–ù–î–£ –ù–ê–ó–ê–î?", {
                    "variants": {"–ø–∞–Ω–∏–∫–∞_1": "–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê", "–ø–∞–Ω–∏–∫–∞_2": "–ë–ï–ñ–ê–¢–¨",
                                 "–£—Å–ø–æ–∫–æ–∏—Ç—å—Å—è": "–£—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –∏ –∑–∞—Ç–∞–∏—Ç—å—Å—è"}, }
            elif t == "–£—Å–ø–æ–∫–æ–∏—Ç—å—Å—è":
                return (*self.update_cb("idle",
                                        start_text="–í—ã —É—Å–ø–æ–∫–æ–∏–ª–∏—Å—å. –û–∫–∞–∑–∞–ª–æ—Å—å, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ª–∏—Å–∏—á–∫–∞ –ø—Ä–æ–±–µ–≥–∞–ª–∞."),)
            elif t == "1":
                return (*self.update_cb("idle",
                                        start_text=str_data()),)
            elif t == "2":
                save_data()
                adding_text = "–ß–∞—Å–æ–∫ –ø—Ä–æ–≥—É–ª—è–ª–∏—Å—å..."

                alive = apply_time(1)
                if alive:
                    if chance(30) and d.get("–í–µ—Ä–µ–≤–∫–∞", None) is None:
                        adding_text += "\n–í—ã –Ω–∞—à–ª–∏ –≤–µ—Ä–µ–≤–∫—É!"
                        d["–í–µ—Ä–µ–≤–∫–∞"] = {"–î–ª–∏–Ω–∞": 5}
                    if chance(30) and d.get("–ù–æ–∂", None) is None:
                        adding_text += "\n–í—ã –Ω–∞—à–ª–∏ –Ω–æ–∂!"
                        d["–ù–æ–∂"] = {"–¢–∏–ø": "–û—Ö–æ—Ç–Ω–∏—á–∏–π"}
                    return (*self.update_cb("idle",
                                            start_text=adding_text),)
                else:
                    self.data = self.data_backup
                    return build_death(scene_2_mox_death, scene_2_skeleton_photo)
            elif t == "3":
                save_data()
                adding_text = ""
                if d.get("—Å—Ü2_–±—ã–ª_–≤—ã–±—Ä–∞–Ω_2", 0) > 0 and chance(30):
                    alive = apply_time(3)
                    if chance(50):
                        alive = apply_time(100)
                    else:
                        adding_text = "\n–í—ã –º–Ω–æ–≥–æ–≤–∞—Ç–æ –±—Ä–æ–¥–∏–ª–∏, –∫–∞–∂–µ—Ç—Å—è, –±–æ–ª—å—à–µ 3 —á–∞—Å–æ–≤! –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º!"
                else:
                    alive = apply_time(1)
                if alive:

                    d["—Å—Ü2_–±—ã–ª_–≤—ã–±—Ä–∞–Ω_2"] = d.get("—Å—Ü2_–±—ã–ª_–≤—ã–±—Ä–∞–Ω_2", 0) + 1
                    return (*self.update_cb("idle",
                                            start_text=scene_2_mox + adding_text),)
                else:
                    self.data = self.data_backup
                    return build_death(scene_2_mox_death, scene_2_skeleton_photo)
            elif t == "4":
                return "–í—ã –ø–æ—à–ª–∏ –≤–Ω–∏–∑ –ø–æ —Ä—É—á—å—é. –ù–∞ –ø—É—Ç–∏ –≤–∞–º –≤—Å—Ç—Ä–µ—Ç–∏–ª—Å—è –±–æ–ª—å—à–æ–π –≤–æ–¥–æ–ø–∞–¥. –ß—Ç–æ –±—É–¥–µ—Ç–µ –¥–µ–ª–∞—Ç—å?", \
                    {"variants": {"4_1": "–ê–∫–∫—É—Ä–∞—Ç–Ω–æ —Å–ø—É—Å—Ç–∏—Ç—å—Å—è", "4_2": "–û–±–æ–π—Ç–∏"}}
            elif t == "4_1":
                if d.get("–í–µ—Ä–µ–≤–∫–∞", None) is not None:
                    self.level = "scene_3"
                    return (*self.update_cb("start", start_text="–í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤–µ—Ä—ë–≤–∫—É –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ —É–ø–∞—Å—Ç—å!"),)
                else:
                    return build_death("–í—ã –≤—Å—ë-—Ç–∞–∫–∏ –ø–æ—Å–∫–æ–ª—å–∑–Ω—É–ª–∏—Å—å..", scene_2_skeleton_photo)
            elif t == "4_2":
                self.level = "scene_3"
                return (*self.update_cb("start", start_text="–í—ã –æ–±–æ—à–ª–∏ –≤–æ–¥–æ–ø–∞–¥ –∏ —Å–ø—É—Å—Ç–∏–ª–∏—Å—å –ø–æ –ø–æ–ª–æ–≥–æ–º—É —Å–∫–ª–æ–Ω—É."),)
            elif t == "5":
                return build_death(scene_2_death_river, scene_2_skeleton_photo)
            else:
                if t == "start":
                    d["–ó–¥–æ—Ä–æ–≤—å–µ"] = 9.5
                    d["–ñ–∞–∂–¥–∞"] = 0.5
                    d["–ì–æ–ª–æ–¥"] = 0.5
                    d["–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"] = 36.6
                    d["–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å"] = 10.0
                    d["–í—Ä–µ–º—è"] = 12.0

                    d["–ë—É—Ç—ã–ª–∫–∞"] = {"–ï–º–∫–æ—Å—Ç—å": 2, "–ó–∞–ø–æ–ª–Ω–µ–Ω–∞": 1}
                    d["–®—Ç–∞–Ω—ã"] = {"–ï—Å—Ç—å": "–î–∞", "–¢—ë–ø–ª—ã–µ": "–î–∞"}
                    d["–í–µ—Ä—Ö"] = {"–¢–∏–ø": "–ö—É—Ä—Ç–∫–∞"}
                    if chance(50):  # set ohotnik
                        d["–†—É–∂—å–µ"] = {"–ü–∞—Ç—Ä–æ–Ω—ã": 1}
                        d["–®—Ç–∞–Ω—ã"]["–¢—ë–ø–ª—ã–µ"] = "–ù–µ—Ç"
                        d["–ë–æ—Ç–∏–Ω–∫–∏"] = {"–¢–∏–ø": "–ö–µ–¥—ã"}
                        d["–í–µ—Ä—Ö"]["–¢–∏–ø"] = "–•—É–¥–∏"
                    else:
                        d["–ë–æ—Ç–∏–Ω–∫–∏"] = {"–¢–∏–ø": "–ë–µ—Ä—Ü—ã"}
                        d["–§–æ–Ω–∞—Ä–∏–∫"] = {"–†–∞–±–æ—á–∏–π": "–î–∞"}
                        d["–ß–∞—Å—ã"] = True
                        d["–ë—É—Ç—ã–ª–∫–∞"]["–ó–∞–ø–æ–ª–Ω–µ–Ω–∞"] = 2

                    self.last_variants = {"1": "–ö–∞—Ä–º–∞–Ω—ã –∏ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ",
                                          "2": "–ù–µ–¥–∞–ª–µ–∫–æ –ø—Ä–æ–≥—É–ª—è—Ç—å—Å—è",
                                          "3": "–ò–¥—Ç–∏, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É—è—Å—å –ø–æ –º—Ö—É",
                                          "4": "–ü–æ–π—Ç–∏ –≤–Ω–∏–∑ –ø–æ —Ä—É—á—å—é",
                                          "5": "–ü–æ–π—Ç–∏ –≤–≤–µ—Ä—Ö –ø–æ —Ä—É—á—å—é"}
                    return gen_msg(scene_2_msg), {"variants": self.last_variants, "photos": ph(scene_2_photo)}
                else:
                    return gen_msg("–í—ã –Ω–∞ –ª—É–∂–∞–π–∫–µ –ª–µ—Å–∞. –†—è–¥–æ–º —Å –≤–∞–º–∏ —Ä—É—á–µ–π."), {"variants": self.last_variants}
        elif self.level == "scene_3":
            if d.get("—Å—Ü3_–≤–æ–ª–∫_–∞—Ç–∞–∫—É–µ—Ç", False):
                if "–ø–∞–Ω–∏–∫–∞" in t:
                    # save_data()
                    # self.data = self.data_backup
                    return build_death("–í–æ–ª–∫ –∂–µ —á–∏—Ç–µ—Ä! –¢–∞–∫ –Ω–µ —á–µ—Å—Ç–Ω–æ!!!",
                                       scene_3_wolf_death_photo)
                elif t == "timeout_wolf":
                    return (*self.update_cb("idle", start_text=""),)
                elif t == "timeout_wolf_death":
                    return build_death(
                            "–ù—É —á—Ç–æ, —É—Å–ø–µ–ª–∏ –¥–æ–ø–∏—Ç—å —á–∞–π?\n–ü–æ–∫–∞ –≤—ã –ø–∏–ª–∏ —á–∞–π, –≤–æ–ª–∫ –ø–∏–ª –≤–∞—à—É –∫—Ä–æ–≤—å...",
                            scene_3_wolf_death_photo)
                elif t == "–∞—Ç–∞–∫–∞_–Ω–æ–∂–æ–º":
                    if d.get("–ù–æ–∂", None) is not None:
                        return (*self.update_cb("–∞—Ç–∞–∫–∞", {"–Ω–æ–∂_–≤–æ–ª–∫": True}, start_text="–í—ã —Ä—ã–≤–∞–Ω—É–ª–∏ –≤–æ–ª–∫–∞ –Ω–æ–∂–æ–º –≤ –≥–ª–∞–∑!"),)
                    else:
                        return build_death(
                            "–í—ã –ø–æ–ª–µ–∑–ª–∏ –≤ –∫–∞—Ä–º–∞–Ω –∑–∞ –Ω–æ–∂–æ–º –∏ –≤–æ–ª–∫ –≤ —Å—Ç—Ä–∞—Ö–µ... –û—Ç–∫—É—Å–∏–ª –≤–∞–º –≥–æ–ª–æ–≤—É, –ø–æ–º–µ—Ç–∏–ª –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—É—é —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –∏ –ø–æ–±–µ–¥–Ω–æ –≤–∑–≤—ã–ª!\n–ö–∞–∫ –∂–µ —Ç–∞–∫? –ê —Å —á–µ–≥–æ –≤—ã –≤–∑—è–ª–∏, —á—Ç–æ —É –≤–∞—Å –±—ã–ª –Ω–æ–∂, –º–∏—Å—Ç–µ—Ä —Å–≤–µ—Ä—Ö—Ä–∞–∑—É–º?)",
                            scene_3_wolf_death_photo)
                elif t == "–∞—Ç–∞–∫–∞_—Ä—É–∂—å–µ–º":
                    if d.get("–ù–æ–∂", None) is not None:
                        return (*self.update_cb("–∞—Ç–∞–∫–∞", {"–Ω–æ–∂_–≤–æ–ª–∫": True}, start_text="–í—ã —Å—Ö–≤–∞—Ç–∏–ª–∏ —Ä—É–∂—å–µ –∏ —Å–¥–µ–ª–∞–ª–∏ –≤ –≤–æ–ª–∫–µ –¥—ã—Ä–∫—É!"),)
                    else:
                        return build_death(
                            "–í—ã –ø–æ–ª–µ–∑–ª–∏ –≤ –∫–∞—Ä–º–∞–Ω –∑–∞ —Ä—É–∂—å–µ–º –∏ –≤–æ–ª–∫ –≤ —Å—Ç—Ä–∞—Ö–µ... –û—Ç–∫—É—Å–∏–ª –≤–∞–º –≥–æ–ª–æ–≤—É, –ø–æ–º–µ—Ç–∏–ª –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—É—é —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –∏ –ø–æ–±–µ–¥–Ω–æ –≤–∑–≤—ã–ª!\n–ö–∞–∫ –∂–µ —Ç–∞–∫? –ê —Å —á–µ–≥–æ –≤—ã –≤–∑—è–ª–∏, —á—Ç–æ —É –≤–∞—Å –±—ã–ª–æ —Ä—É–∂—å–µ, –º–∏—Å—Ç–µ—Ä —Å–≤–µ—Ä—Ö—Ä–∞–∑—É–º?) –í—ã –≤–æ–æ–±—â–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ —Å–≤–æ–∏ –∫–∞—Ä–º–∞–Ω—ã?",
                            scene_3_wolf_death_photo)
                elif t == "–ø–æ–ø–∞–¥–∞–Ω–∏–µ":
                    if d.get("—Å—Ü3_–≤–æ–ª–∫_–Ω–æ–∂", False):
                        alive = apply_time(1, 2)
                    else:
                        alive = apply_time(1, 10)
                    if alive:
                        d["—Å—Ü3_–≤–æ–ª–∫_–∞—Ç–∞–∫—É–µ—Ç"] = False
                        return (*self.update_cb("idle",
                                                start_text="–í–æ–ª–∫, —Ö—Ä–æ–º–∞—è, —Å–∫—Ä—ã–ª—Å—è –≤ —á–∞—â–µ –ª–µ—Å–∞. –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –≤—ã–∂–∏–≤–µ—Ç –ª–∏ –æ–Ω... –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –≤—ã –æ—Ç–¥–µ–ª–∞–ª–∏—Å—å –Ω–µ–±–æ–ª—å—à–∏–º–∏ —Ç—Ä–∞–≤–º–∞–º–∏ –∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤ –∂–∏–≤—ã—Ö. –í–´ —Ä–µ—à–∞–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ –∫ –æ–∑–µ—Ä—É"),)
                    else:
                        self.data = self.data_backup
                        return build_death("–í—ã –ø–æ–ø–∞–ª–∏ –≤–æ–ª–∫—É –≤ –≥–ª–∞–∑! –û–Ω –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –≤–∑–≤—ã–ª –∏ –∫–∏–Ω—É–ª—Å—è –Ω–∞ –≤–∞—Å —Å –µ—â—ë –±–æ–ª—å—à–µ–π –∑–ª–æ–±–æ–π... –ë–µ–∑ —à–∞–Ω—Å–æ–≤...\n–í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º —Å—Ç–æ–∏–ª–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Å–≤–æ–∏–º –∑–¥–æ—Ä–æ–≤—å–µ–º –∏ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ–º!", scene_3_wolf_death_photo)

                elif t == "–∞—Ç–∞–∫–∞":
                    def r(m):
                        return random.choice(m)

                    attack_variants = {"table": True}  # –ø–µ—Ä–µ–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É –∏–∑ –∫–Ω–æ–ø–æ–∫
                    knife = False
                    if env and env.get("–Ω–æ–∂_–≤–æ–ª–∫", False):
                        d["—Å—Ü3_–≤–æ–ª–∫_–Ω–æ–∂"] = True
                        knife = True
                    if knife:
                        range_len = random.choice([5, 6, 7]) * 2
                    else:
                        range_len = random.choice([9, 10, 12]) * 2
                    range_arr = range(1, range_len)
                    insert_idx = random.choice(range_arr)
                    k = 0
                    ii = 0
                    row_name = "row_0"
                    row_len = random.choice([2, 4, 5, 6])
                    for i in range_arr:
                        if k == 0:
                            ii += 1
                            row_name = "row_" + str(ii)
                            attack_variants[row_name] = {}

                        if i == insert_idx:
                            attack_variants[row_name]["–ø–æ–ø–∞–¥–∞–Ω–∏–µ"] = r(("üëÅÔ∏è", "üëÄ", "üëÅÔ∏è‚Äçüó®Ô∏è", "üëÅ",))  # "üëä"
                        else:
                            attack_variants[row_name]["–ø–∞–Ω–∏–∫–∞_" + str(i)] = r(("‚ôø", "‚ôø", "‚ôø", "‚ôø", "üêæ", "ü§∞üèª",))
                        k += 1
                        if k >= row_len:
                            k = 0
                    # attack_vars = {"–ø–∞–Ω–∏–∫–∞_1": "‚ôøÔ∏è", "–ø–∞–Ω–∏–∫–∞_2": "‚ôøÔ∏è", "–ø–∞–Ω–∏–∫–∞_3": "‚ôøÔ∏è",
                    #                 "–ø–∞–Ω–∏–∫–∞_4": "‚ôøÔ∏è", "–ø–∞–Ω–∏–∫–∞_5": "‚ôøÔ∏è", "–ø–∞–Ω–∏–∫–∞_6": "‚ôøÔ∏è", "–ø–æ–ø–∞–¥–∞–Ω–∏–µ": "üëä"}
                    # keyss = list(attack_vars.keys())
                    # random.shuffle(keyss)
                    # attack_variants = dict()
                    # for key in keyss:
                    #    attack_variants.update({key: attack_vars[key]})
                    save_data()
                    self.active_timeout = "timeout_wolf_death"
                    timeout_death_time = 10 if knife else 3
                    return "–í–æ–ª–∫ –ø—Ä—ã–≥–Ω—É–ª –Ω–∞ –≤–∞—Å! –ö—É–¥–∞ üëä?\n‚è≥‚ùó", {"variants": attack_variants,
                                                    "timer": {"cmd": "timeout_wolf_death", "time": timeout_death_time}}
                else:
                    return "–í–æ–ª–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –∏ —Ä—ã—á–∏—Ç! –ß—Ç–æ –¥–µ–ª–∞—Ç—å?!", {
                        "variants": {"–ø–∞–Ω–∏–∫–∞_1": "–ü–ê–ù–ò–ö–û–í–ê–¢–¨", "–ø–∞–Ω–∏–∫–∞_2": "–ë–ï–ñ–ê–¢–¨", "–ø–∞–Ω–∏–∫–∞_3": "–ë–ï–ñ–ê–¢–¨",
                                     "–ø–∞–Ω–∏–∫–∞_4": "–ö–∏–Ω—É—Ç—å –≤ –Ω–µ–≥–æ –ø–∞–ª–∫—É", "–∞—Ç–∞–∫–∞_–Ω–æ–∂–æ–º": "–¥–æ—Å—Ç–∞—Ç—å –Ω–æ–∂",
                                     "–∞—Ç–∞–∫–∞_—Ä—É–∂—å–µ–º": "–¥–æ—Å—Ç–∞—Ç—å —Ä—É–∂—å–µ",
                                     "–∞—Ç–∞–∫–∞": "–û–¢–ü–û–† –ú–£–°–ö–£–õ–ê–ú–ò"}}
            elif t == "1":
                return (*self.update_cb("idle", start_text=str_data()),)
            elif t == "2":
                save_data()
                self.active_timeout = "timeout_wolf"
                d["—Å—Ü3_–≤–æ–ª–∫_–∞—Ç–∞–∫—É–µ—Ç"] = True
                return "*–ö–£–°–¢–´* *–õ–ò–°–¢–¨–Ø*\n–≠–¢–û –ñ–ï –í–û–õ–ö!!! –ß–¢–û –ú–ù–ï –î–ï–õ–ê–¢–¨???\n‚è≥‚ùó", {
                    "variants": {"–ø–∞–Ω–∏–∫–∞_1": "–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê", "–ø–∞–Ω–∏–∫–∞_2": "–ü–ê–ù–ò–ö–û–í–ê–¢–¨", "–ø–∞–Ω–∏–∫–∞_3": "–ë–ï–ñ–ê–¢–¨"},
                    "timer": {"cmd": "timeout_wolf", "time": 3}}
            elif t == "3":
                alive = apply_time(1, 5)
                if alive:
                    return (*self.update_cb("idle", start_text="–í—ã –∑–∞–ª–µ–∑–ª–∏ –≤ –≤–æ–¥—É –∏ –Ω–∞ –≤–∞—Å –Ω–∞–ø–∞–ª —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫.. –í—ã —è—Ä–æ—Å—Ç–Ω–æ –±–æ—Ä–æ–ª–∏—Å—å —Å –Ω–∏–º, —Å–æ –≤—Å–µ–π –¥—É—Ä–∏ –º–æ—á–∏–ª–∏ –µ–≥–æ —Ä—É–∫–∞–º–∏, –Ω–æ–≥–∞–º–∏, –∫—Ä–∏—á–∞–ª–∏, –∏, –æ, —á—É–¥–æ, –≤–∞–º —É–¥–∞–ª–æ—Å—å –ø–æ–±–µ–¥–∏—Ç—å! –ù–æ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫ –º–æ–≥ –æ—Å—Ç–∞—Ç—å—Å—è –∂–∏–≤, –º–æ–∂–µ—Ç, —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –µ—â—ë —Ä–∞–∑ –ø–æ–ª–µ–∑—Ç—å –≤ –≤–æ–¥—É?)"),)
                else:
                    return build_death("–ù–∞ –≤–∞—Å –Ω–∞–ø–∞–ª —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫. –û–Ω... —É—Ç–∞—â–∏–ª –≤–∞—Å –ø–æ–¥ –≤–æ–¥—É –∏.. –∑–∞–¥—É—à–∏–ª...\n(–≤–∞—à–∏–º –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–º –æ–∫–∞–∑–∞–ª–æ—Å—å –Ω–µ—É–º–µ–Ω–∏–µ –ø–ª–∞–≤–∞—Ç—å)", scene_3_water_death_photo)
            elif t == "4":
                alive = apply_time(1, 4)
                if alive:
                    return build_death("""–í—ã –¥–æ–±—Ä–∞–ª–∏—Å—å –¥–æ –≤–µ—Ä—Ö–∞ –≥–æ—Ä—ã. –ù–∞ –≤–µ—Ä—Ö—É –≥–æ—Ä—ã —Å—Ç–æ—è–ª–∞ –∏–∑–±—É—à–∫–∞...
1 —á–∞—Å—Ç—å –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã –ø–æ–±–µ–¥–∏–ª–∏!
–ñ–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ø–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏"!
–¢–∞–∫–∂–µ, –≤—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å –≤—Ä–µ–º—è –Ω–∞–∑–∞–¥, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã =) """,
                    scene_4_izba_photo)
                #return (*self.update_cb("idle", start_text=str_data()),)
            else:
                if t == "start":
                    self.last_variants = {"1": "–ö–∞—Ä–º–∞–Ω—ã –∏ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ",
                                          "2": "–£–º–Ω—ã–π –≤ –≥–æ—Ä—É –Ω–µ –ø–æ–π–¥–µ—Ç, —É–º–Ω—ã–π –≥–æ—Ä—É –æ–±–æ–π–¥–µ—Ç!",
                                          "3": "–ò—Å–∫—É–ø–∞—Ç—å—Å—è –≤ –æ–∑–µ—Ä–µ",
                                          "4": "–ü–æ–π—Ç–∏ –Ω–∞ –≥–æ—Ä—É"}
                    return gen_msg(scene_3_msg), {"variants": self.last_variants, "photos": ph(scene_3_photo)}
                else:
                    return gen_msg("–í—ã —É –æ–∑–µ—Ä–∞ —É –ø–æ–¥–Ω–æ–∂—å—è –≥–æ—Ä—ã."), {"variants": self.last_variants}
